keepalived工作原理和配置、使用
keepalived是集群管理中保证集群高可用的一个服务软件，其功能类似于heartbeat，用来防止单点故障。

keepalived工作原理

keepalived是以VRRP协议为实现基础的，
VRRP全称Virtual Router Redundancy Protocol，即虚拟路由冗余协议。
虚拟路由冗余协议，可以认为是实现路由器高可用的协议，
即将N台提供相同功能的路由器组成一个路由器组，
这个组里面有一个master和多个backup，
master上面有一个对外提供服务的vip（该路由器所在局域网内其他机器的默认路由为该vip），
master会发组播，当backup收不到vrrp包时就认为master宕掉了，
这时就需要根据VRRP的优先级来选举一个backup当master。
这样的话就可以保证路由器的高可用了。

keepalived主要有三个模块，分别是core、check和vrrp。
core模块为keepalived的核心，负责主进程的启动、维护以及全局配置文件的加载和解析。
check负责健康检查，包括常见的各种检查方式。vrrp模块是来实现VRRP协议的。

keepalived的配置文件
keepalived只有一个配置文件keepalived.conf，
里面主要包括以下几个配置区域，
分别是
global_defs:global_defs区域主要是配置故障发生时的通知对象以及机器标识
static_ipaddress:
static_routes、
vrrp_script、
vrrp_instance
和virtual_server。