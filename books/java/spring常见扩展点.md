spring 常见扩展点

1 SpringApplicationRunListener
三种监听器的关系
ApplicationListener、SpringApplicationRunListeners、SpringApplicationRunListener的关系：
SpringApplicationRunListeners类和SpringApplicationRunListener类是SpringBoot中新增的类。ApplicationListener是spring中框架的类。
在SpringBoot（SpringApplication类）中，使用SpringApplicationRunListeners、SpringApplicationRunListener来间接调用ApplicationListener。
，SpringApplicationRunListeners中包含多个SpringApplicationRunListener，
是为了批量执行的封装，SpringApplicationRunListeners与SpringApplicationRunListener
生命周期相同，调用每个周期的各个SpringApplicationRunListener。
然后广播相应的事件到Spring框架的ApplicationListener。
SpringApplicationRunListeners是SpringApplicationRunListener的封装

那纵观整个启动流程我们会发现，它其实是用来在整个启动流程中接收不同执行点事件通知的监听者，
SpringApplicationRunListener接口规定了SpringBoot的生命周期，在各个生命周期广播相应的事件，调用实际的ApplicationListener类。

2 BeanFactoryPostProcessor 接口

3 用来感知IOC容器的各种Aware扩展 
BeanNameAware
实现该接口并重写void setBeanName(String var1)方法；获取该bean在BeanFactory配置中的名字

ApplicationContextAware
实现该接口，并重写setApplicationContext(ApplicationContext applicationContext)方法，获取spring 上下文环境的对象，
然后通过该上下文对象获取spring容器中的bean对象
BeanFactoryAware
实现该接口，并重写void setBeanFactory(BeanFactory beanFactory) 方法，Bean获取配置他们的BeanFactory的引用

ServletContextAware
实现该接口，并重写void setServletContext(ServletContext servletContext)方法；获取servletContext容器。

ResourceLoaderAware
实现该接口，并重写void setServletContext(ServletContext servletContext)方法；
获取ResourceLoader对象，便能够通过它获得各种资源。


扩展点 BeanPostProcessor
BeanPostProcessor提供对bean实例的操作扩展，在spring容器对bean实例化和设置依赖之后，
其回调开始执行。BeanPostProcessor接口定义的两个方法，分别在bean的初始化方法
（InitializingBean接口，或者init-method定义）执行的前后执行：
以上两个方法的参数列表中分别是spring容器创建的对象和beanName，返回值是经过定制化的对象。

BeanPostProcessor对bean实例进行操作，其在bean被实例化和后开始被执行相关回调。它是与容器相关的，
它只对其所在容器中的bean有影响，对其父容器没有影响。

BeanPostProcessor也是一个bean，只不过它对其它bean进行后续的扩展处理。
Spring容器可以自动的发现实现这个接口的bean。所以如果我们要使我们自定义的BeanPostProcessor起作用，
可以像配置其他bean一样在配置文件中进行配置（当然也可以编码实现，向容器注册一个）。
Spring容器对BeanPostProcessor类型的bean专门处理，所有的BeanPostProcessor及其引用的依赖在、
spring容器启动的时候实例化，作为spring容器启动的一个阶段。

Spring容器中内置很多BeanPostProcessor的实现，如上篇文章中使用JSR注解@PostConstruct，对它的处理就是使用BeanPostProcessor。
它的另外一哥较常见的作用是spring-aop动态代理。
另外我们可以定义多个BeanPostProcessor，他们执行的顺序可以通过实现Ordered接口来控制。

BeanFactoryPostProcessor
接口说明
这是Spring容器的另外一个扩展点，和BeanPostProcessor不同的地方在于，它是对beanDefiniton进行操作。

