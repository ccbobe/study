#### **java对象计算方式**

Java  基本对象占用内存大小

| 数据类型 | 所占空间（byte） |
| :------- | ---------------- |
| byte     | 1                |
| short    | 2                |
| int      | 4                |
| long     | 8                |
| float    | 4                |
| double   | 8                |
| char     | 2                |
| boolean  | 1                |

reference类型在32位系统上每个占用4bytes, 在64位系统上每个占用8bytes

#### 对齐填充

HotSpot的对齐方式为8字节对齐：

（对象头 + 实例数据 + padding） % 8等于0且0 <= padding < 8

#### 指针压缩

对象占用的内存大小受到VM参数UseCompressedOops的影响。32G内存以下的，默认开启对象指针压缩。

64位机器上reference类型占用8个字节，开启指针压缩后占用4个字节。

#### 数组对象

64位机器上，数组对象的对象头占用24个字节（8字节MarkWord+8字节类型指针+8字节数组长度），启用压缩之后占用16个字节（8字节MarkWord+4字节类型指针+4字节数组长度）。之所以比普通对象占用内存多是因为需要额外的对象头空间存储数组的长度。